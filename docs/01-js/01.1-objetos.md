# UD1 - 1.1. Objetos en Javascript

- [Introducci√≥n](#introducci√≥n)
- [Propiedades de un objeto](#propiedades-de-un-objeto)
- [M√©todos de un objeto](#m√©todos-de-un-objeto)
- [Bibliograf√≠a](#bibliograf√≠a)

## Introducci√≥n

En Javascript podemos definir cualquier variable como un objeto declar√°ndola con **new** (NO se recomienda) o creando un _literal object_ (usando notaci√≥n **JSON**).

Ejemplo con _new_, **‚ö†Ô∏è NO recomendado**:

```js linenums="1" 
let alumno = new Object()
alumno.nombre = 'Carlos'     // se crea la propiedad 'nombre' y se le asigna un valor
alumno['apellidos'] = 'P√©rez Ortiz'    // se crea la propiedad 'apellidos'
alumno.edad = 19
```

Creando un _literal object_, es la **forma recomendada**.

El ejemplo anterior ser√≠a:

```js linenums="1"
let alumno = {
    nombre: 'Carlos',
    apellidos: 'P√©rez Ortiz',
    edad: 19,
};
```

## Propiedades de un objeto

Podemos acceder a las propiedades con `.` (punto) o `[ ]`:

```js linenums="1"
console.log(alumno.nombre)       // imprime 'Carlos'
console.log(alumno['nombre'])    // imprime 'Carlos'
let prop = 'nombre'
console.log(alumno[prop])        // imprime 'Carlos'
```

Si intentamos acceder a propiedades que no existen no se produce un error, se devuelve _undefined_:

```javascript
console.log(alumno.ciclo)      // muestra undefined
```

Sin embargo se genera un error si intentamos acceder a propiedades de algo que no es un objeto:

```javascript
console.log(alumno.ciclo)           // muestra undefined
console.log(alumno.ciclo.descrip)      // se genera un ERROR
```

Para evitar ese error antes hab√≠a que comprobar que existan las propiedades previas:

```javascript
console.log(alumno.ciclo && alumno.ciclo.descrip)
// si alumno.ciclo es un objeto muestra el valor de 
// alumno.ciclo.descrip y si no muestra undefined
```

!!! info "NOTA:"
    Con ES2020 (ES11) se ha incluido el operador **?.** para evitar tener que comprobar esto nosotros:

    ```javascript
    console.log(alumno.ciclo?.descrip)
    // si alumno.ciclo es un objeto muestra el valor de 
    // alumno.ciclo.descrip y si no muestra undefined
    ```

Podremos recorrer las propiedades de un objecto con `for..in`:

```js linenums="1"
for (let prop in alumno) {
    console.log(prop + ': ' + alumno[prop])
}
```

Si el valor de una propiedad es el valor de una variable que se llama como la propiedad no es necesario ponerlo:

```js linenums="1"
let nombre = 'Carlos'

let alumno = {
    nombre,            // es equivalente a nombre: nombre
    apellidos: 'P√©rez Ortiz',
    ...
```

## M√©todos de un objeto

Una propiedad de un objeto puede ser una funci√≥n:

```js linenums="1"
alumno.getInfo = function() {
    return 'El alumno ' + this.nombre + ' ' + this.apellidos + ' tiene ' + this.edad + 'a√±os'
}
```

Tambi√©n podemos ponerlo con sintaxis _arrow function_:
```js linenums="1"
alumno.getInfo = () => 'El alumno ' + this.nombre + ' ' + this.apellidos + ' tiene ' + this.edad + 'a√±os'
```

Y para llamarlo se hace como con cualquier otra propiedad:
```javascript
console.log(alumno.getInfo())    // imprime 'El alumno Carlos P√©rez Ort√≠z tiene 19 a√±os'
```

!!! question "ACTIVIDAD 10: `üìÇ UD1/act10/act10.html`"
    Crea un objeto llamado **`inventario`** con las propiedades:

    - `nombre` = TV Samsung 42
    - `categoria` = Televisores
    - `unidades` = 4
    - `precio` = 345.95
    - `importe` devuelve el valor total de las unidades (n¬∫ de unidades * precio).

    Introduce 2 productos m√°s en el objeto inventario y comprueba que funciona correctamente.

## Bibliograf√≠a
* Curso 'Programaci√≥n con JavaScript'. CEFIRE Xest. Arturo Bernal Mayordomo
